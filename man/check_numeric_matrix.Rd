% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check_numeric_matrix.R
\name{check_numeric_matrix}
\alias{check_numeric_matrix}
\title{Check Numeric Matrix for Typical Errors}
\usage{
check_numeric_matrix(
  numeric_matrix_arg,
  allow_null = FALSE,
  allow_na = FALSE,
  allow_inf = FALSE,
  allow_zero_length = FALSE,
  must_be_square = FALSE,
  must_be_symmetric = FALSE
)
}
\arguments{
\item{numeric_matrix_arg}{Matrix or numeric to check. Can be a matrix, or a
numeric vector that will be treated as a matrix.}

\item{allow_null}{Logical. If TRUE, NULL is accepted as a valid value. Default is FALSE.}

\item{allow_na}{Logical. If TRUE, NA values in the matrix are allowed. Default is FALSE.}

\item{allow_inf}{Logical. If TRUE, -Inf or Inf values in the matrix are allowed.
Default is FALSE.}

\item{allow_zero_length}{Logical. If TRUE, zero-length matrices (empty matrices)
are allowed. Default is FALSE.}

\item{must_be_square}{Logical. If TRUE, the matrix must have equal number of
rows and columns (square matrix). Default is FALSE.}

\item{must_be_symmetric}{Logical. If TRUE, the matrix must be symmetric
(i.e., M[i,j] == M[j,i] for all i,j). Automatically sets must_be_square to TRUE.
Default is FALSE.}
}
\value{
Invisibly returns \code{numeric_matrix_arg} if all checks pass;
otherwise throws an error with a descriptive message.
}
\description{
Validates a numeric matrix argument for type, dimensions, NA values, infinity,
and structural properties (square, symmetric). Provides consistent error messages
that include the argument name and calling function.
}
\details{
This function performs a sequence of validation checks:
\enumerate{
\item Validates all logical parameters
\item If must_be_symmetric=TRUE, automatically sets must_be_square=TRUE
\item Checks if NULL when not allowed
\item Returns NULL early if allowed
\item Handles single NA value specially when allowed
\item Checks if input is numeric and/or matrix
\item Checks for zero length when not allowed
\item Checks for NA values when not allowed
\item Checks for infinite values when not allowed
\item Checks if matrix is square when required
\item Checks if matrix is symmetric when required
}

\strong{Matrix Type Checking:}
The function accepts inputs that are either:
\itemize{
\item Already a matrix (is.matrix() returns TRUE)
\item Numeric vectors (will be accepted but user should be aware)
}

\strong{Symmetry Checking:}
Uses base R's isSymmetric() function with default tolerance for numerical
precision issues.
}
\note{
Error messages include:
\itemize{
\item The argument name (from substitute())
\item The calling function name (from sys.call())
\item Specific reason for failure
}

This makes debugging easier in nested function calls.
}
\examples{
# Valid matrix
m <- matrix(1:9, nrow = 3)
check_numeric_matrix(m)

# Allow NULL
check_numeric_matrix(NULL, allow_null = TRUE)

# Square matrix required
m_square <- matrix(1:9, nrow = 3)
check_numeric_matrix(m_square, must_be_square = TRUE)

# Symmetric matrix
m_sym <- matrix(c(1,2,3, 2,4,5, 3,5,6), nrow = 3)
check_numeric_matrix(m_sym, must_be_symmetric = TRUE)

\dontrun{
# These will fail:
check_numeric_matrix("not a matrix")  # Type error
check_numeric_matrix(NULL)  # NULL not allowed
m_rect <- matrix(1:6, nrow = 2, ncol = 3)
check_numeric_matrix(m_rect, must_be_square = TRUE)  # Not square
}

}
